{% extends "base.html" %}
{% if logtype == 'All' %}
{% set dataurl = '/data/sessions/all' %}
{% elif logtype == 'HoneyBees' %}
{% set dataurl = '/data/sessions/honeybees' %}
{% elif logtype == 'Attacks' %}
{% set dataurl = '/data/sessions/attacks' %}
{% endif %}

{% block content %}
<h3>Drones</h3>
<table id="dronestable" class="table table-bordered datagrid">
    <thead/>

    <tfoot>
    <tr>
        <th>
            <div class="datagrid-footer-left" style="display:none;">
                <div class="grid-controls">
                    <span><span class="grid-start"></span> - <span class="grid-end"></span> of <span
                            class="grid-count"></span></span>
                    <select class="grid-pagesize">
                        <option>5</option>
                        <option>20</option>
                        <option>50</option>
                    </select>
                    <span>Per Page</span>
                </div>
            </div>
            <div class="datagrid-footer-right" style="display:none;">
                <div class="grid-pager">
                    <button class="btn grid-prevpage"><i class="icon-chevron-left"></i></button>
                    <span>Page</span>

                    <div class="input-append dropdown combobox">
                        <input class="span1" type="text">
                    </div>
                    <span>of <span class="grid-pages"></span></span>
                    <button class="btn grid-nextpage"><i class="icon-chevron-right"></i></button>
                </div>
            </div>
        </th>
    </tr>
    </tfoot>
</table>

<script type="text/javascript">

    $('#dronestable').datagrid({
        dataSource: new GenericDataSource({
            columns: [
                {
                    property: 'id',
                    label: 'Id',
                    sortable: true
                },
                {
                    property: 'name',
                    label: 'Name',
                    sortable: true
                },
                {
                    property: 'type',
                    label: 'Type',
                    sortable: true
                },
                {
                    property: 'last_activity',
                    label: 'Last activity',
                    sortable: true
                },
            ],
            url: '/data/drones',
            formatter: function (items) {
                $.each(items, function (index, item) {
                    item.time = item.time + '<span style="visibility: hidden;" data-id="' + item.id + '"/>';
                });
            }
        })
    });

</script>
{% endblock content %}
